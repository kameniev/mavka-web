{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Desktop\\\\mavka-web\\\\src\\\\screens\\\\ContentMakers\\\\TestView\\\\TestView.js\";\nimport React from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport ABCDE from \"../../Templates/ABCDE/ABCDE\";\nimport TestWrapper from \"../../TestWrapper\";\nimport axios from \"axios\";\n\nclass Question {\n  constructor(json) {\n    this.type = json[\"Формат\"];\n    this.year = json[\"Рік\"];\n    this.number = json[\"Номер\"];\n    this.session = json[\"Cecія\"];\n    this.subject = json[\"Предмет\"];\n    this.topic = json[\"Тема\"];\n    this.question = json[\"Питання\"];\n    this.answer = json[\"Правильна відповідь\"];\n    this.comment = json[\"Коментар\"];\n    var tmpArr = [\"Відповідь А\", \"Відповідь Б\", \"Відповідь В\", \"Відповідь Г\", \"Відповідь Д\", \"Відповідь Е\", \"Відповідь A\", \"Відповідь B\", \"Відповідь C\", \"Відповідь D\", \"Відповідь E\", \"Відповідь G\", \"Відповідь F\", \"Відповідь H\"];\n    var currArr = [];\n\n    for (let i = 0; i < tmpArr.length; i++) {\n      if (json[tmpArr[i]] != null) {\n        currArr.push(json[tmpArr[i]]);\n      }\n\n      tmpArr[i] = tmpArr[i].replace(\"Відповідь\", \"Пояснення\");\n    }\n\n    this.questions = currArr;\n    currArr = [];\n\n    for (let i = 0; i < tmpArr.length; i++) {\n      if (json[tmpArr[i]] != null) {\n        currArr.push(json[tmpArr[i]]);\n      }\n    }\n\n    this.explanations = currArr;\n  }\n\n  get() {\n    return this.explanations;\n  }\n\n  getType() {\n    return this.type;\n  }\n\n  getYear() {\n    return this.year;\n  }\n\n  getSubject() {\n    return this.subject;\n  }\n\n  getTopic() {\n    return this.topic;\n  }\n\n  getQuestion() {\n    return this.question;\n  }\n\n  getAnswer() {\n    return this.answer;\n  }\n\n  getComment() {\n    return this.comment;\n  }\n\n  getQuestions() {\n    // array of strings\n    return this.questions;\n  }\n\n  getExplanations() {\n    // array of strings\n    return this.explanations;\n  }\n\n  getSession() {\n    return this.session;\n  }\n\n}\n\nexport class TestView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateQuestion = x => {\n      this.setState({\n        active: x,\n        data: []\n      });\n      this.getData(this.getUrl(x));\n    };\n\n    this.updateStatus = (id, x) => {\n      const answered = this.state.answered;\n      answered[id - 1] = x;\n      this.setState({\n        answered: answered\n      });\n    };\n\n    this.state = {\n      testId: this.props.match.params.id,\n      user: 25,\n      active: 1,\n      data: [],\n      list: [],\n      answered: []\n    };\n  }\n\n  getUrl(current) {\n    return \"flask.mavka.org/api/get_question?page_id=\" + this.state.list[current - 1];\n  }\n\n  getData(url) {\n    fetch(url).then(response => response.json()).then(result => {\n      console.log(result);\n      this.setState({\n        data: result\n      });\n    }).catch(e => console.log(e));\n  }\n\n  componentDidMount() {\n    let id = 'flask.mavka.org/api/get_test_map?page_id=' + this.state.testId;\n    alert(id);\n    fetch(id).then(response => response.json()).then(result => {\n      console.log(result);\n      this.setState({\n        list: result\n      });\n      this.getData(this.getUrl(this.state.active));\n    }).catch(e => console.log(e));\n  }\n\n  render() {\n    if (this.state.user == 25) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }\n      });\n    }\n\n    if (this.state.user) {\n      if (this.state.data.length > 0) {\n        const data = this.state.data;\n        let num = this.state.active - 1;\n\n        if (data[num].getType() == \"АБВГД\") {\n          return /*#__PURE__*/React.createElement(TestWrapper, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(ABCDE, {\n            callback: this.updateQuestion,\n            active: this.state.active,\n            number: this.state.data.length,\n            answered: this.state.answered[num],\n            data: data,\n            changeStatus: this.updateStatus,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 33\n            }\n          }), document.getElementById(\"root\").click(), document.getElementById(\"root\").click()));\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 16\n      }\n    });\n  }\n\n}\nexport default TestView;","map":{"version":3,"sources":["C:/Users/Acer/Desktop/mavka-web/src/screens/ContentMakers/TestView/TestView.js"],"names":["React","Redirect","Link","ABCDE","TestWrapper","axios","Question","constructor","json","type","year","number","session","subject","topic","question","answer","comment","tmpArr","currArr","i","length","push","replace","questions","explanations","get","getType","getYear","getSubject","getTopic","getQuestion","getAnswer","getComment","getQuestions","getExplanations","getSession","TestView","Component","props","updateQuestion","x","setState","active","data","getData","getUrl","updateStatus","id","answered","state","testId","match","params","user","list","current","url","fetch","then","response","result","console","log","catch","e","componentDidMount","alert","render","num","document","getElementById","click"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport ABCDE from \"../../Templates/ABCDE/ABCDE\";\r\nimport TestWrapper from \"../../TestWrapper\";\r\nimport axios from \"axios\";\r\n\r\nclass Question {\r\n    constructor(json){\r\n        this.type = json[\"Формат\"];\r\n        this.year = json[\"Рік\"];\r\n        this.number = json[\"Номер\"];\r\n        this.session = json[\"Cecія\"];\r\n        this.subject = json[\"Предмет\"];\r\n        this.topic = json[\"Тема\"];\r\n        this.question = json[\"Питання\"];\r\n        this.answer = json[\"Правильна відповідь\"];\r\n        this.comment = json[\"Коментар\"];\r\n        var tmpArr = [\"Відповідь А\", \"Відповідь Б\", \"Відповідь В\",\r\n            \"Відповідь Г\", \"Відповідь Д\", \"Відповідь Е\", \"Відповідь A\",\r\n            \"Відповідь B\", \"Відповідь C\", \"Відповідь D\", \"Відповідь E\",\r\n            \"Відповідь G\", \"Відповідь F\", \"Відповідь H\"];\r\n        var currArr = [];\r\n        for(let i = 0; i < tmpArr.length; i++){\r\n            if(json[tmpArr[i]] != null){\r\n                currArr.push(json[tmpArr[i]]);\r\n            }\r\n            tmpArr[i] = tmpArr[i].replace(\"Відповідь\", \"Пояснення\");\r\n        }\r\n        this.questions = currArr;\r\n        currArr = [];\r\n        for(let i = 0; i < tmpArr.length; i++){\r\n            if(json[tmpArr[i]] != null){\r\n                currArr.push(json[tmpArr[i]]);\r\n            }\r\n        }\r\n        this.explanations = currArr;\r\n    }\r\n    get(){\r\n        return this.explanations;\r\n    }\r\n    getType(){\r\n        return this.type;\r\n    }\r\n    getYear(){\r\n        return this.year;\r\n    }\r\n    getSubject(){\r\n        return this.subject;\r\n    }\r\n    getTopic(){\r\n        return this.topic;\r\n    }\r\n    getQuestion(){\r\n        return this.question;\r\n    }\r\n    getAnswer(){\r\n        return this.answer;\r\n    }\r\n    getComment(){\r\n        return this.comment;\r\n    }\r\n    getQuestions() {\r\n        // array of strings\r\n        return this.questions;\r\n    }\r\n    getExplanations(){\r\n        // array of strings\r\n        return this.explanations;\r\n    }\r\n    getSession () {\r\n        return this.session;\r\n    }\r\n}\r\n\r\nexport class TestView extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            testId: this.props.match.params.id,\r\n            user: 25,\r\n            active: 1,\r\n            data: [],\r\n            list: [],\r\n            answered: []\r\n        }\r\n    }\r\n    getUrl (current) {\r\n        return \"flask.mavka.org/api/get_question?page_id=\" + this.state.list[current - 1];\r\n    }\r\n\r\n    getData (url) {\r\n        fetch(url)\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                console.log(result);\r\n                this.setState({\r\n                    data: result,\r\n                })\r\n            })\r\n            .catch(e => console.log(e));\r\n    }\r\n\r\n    componentDidMount() {\r\n        let id = 'flask.mavka.org/api/get_test_map?page_id=' + this.state.testId;\r\n        alert(id);\r\n        fetch(id)\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                console.log(result);\r\n                this.setState({\r\n                    list: result,\r\n                })\r\n                this.getData(this.getUrl(this.state.active));\r\n            })\r\n            .catch(e => console.log(e));\r\n\r\n    }\r\n\r\n    updateQuestion = (x) => {\r\n        this.setState({\r\n            active: x,\r\n            data: []\r\n        });\r\n        this.getData(this.getUrl(x));\r\n    }\r\n\r\n    updateStatus = (id, x) => {\r\n        const answered = this.state.answered;\r\n        answered[id - 1] = x;\r\n        this.setState({\r\n            answered: answered\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.user == 25) {\r\n            return (<div></div>);\r\n        }\r\n        if (this.state.user) {\r\n            if (this.state.data.length > 0) {\r\n                const data = this.state.data;\r\n                let num = this.state.active - 1;\r\n                if (data[num].getType() == \"АБВГД\") {\r\n                    return (\r\n                        <TestWrapper>\r\n                            <div>\r\n                                <ABCDE\r\n                                    callback={this.updateQuestion}\r\n                                    active={this.state.active}\r\n                                    number={this.state.data.length}\r\n                                    answered={this.state.answered[num]}\r\n                                    data={data}\r\n                                    changeStatus={this.updateStatus}\r\n                                />\r\n                                {document.getElementById(\"root\").click()}\r\n                                {document.getElementById(\"root\").click()}\r\n                            </div>\r\n                        </TestWrapper>\r\n                    )\r\n                }\r\n            }\r\n            return (<div></div>);\r\n        }\r\n        return(<Redirect to=\"/login\"/>);\r\n    }\r\n}\r\n\r\nexport default TestView;"]},"metadata":{},"sourceType":"module"}