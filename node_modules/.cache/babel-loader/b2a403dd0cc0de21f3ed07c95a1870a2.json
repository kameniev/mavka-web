{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Acer\\\\Desktop\\\\mavka-web\\\\src\\\\screens\\\\Test\\\\Test.js\";\nimport React from 'react';\nimport firebase from \"../../global\";\nimport { Redirect, Link } from 'react-router-dom';\nimport axios from \"axios\";\nimport ListItem from \"../../UI/ListItem\";\nimport QuestionNavPanel from \"../../UI/QuestionNavPanel\";\nimport ABCDE from \"../Templates/ABCDE/ABCDE\";\nimport Services from \"../../Services\";\nexport class Test extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getAuthStatus = () => {\n      firebase.auth().onAuthStateChanged(resp => {\n        // Pass response to a call back func to update state\n        this.updateUserState(resp);\n      });\n    };\n\n    this.updateQuestion = (obj, x) => {\n      this.setState({\n        active: x\n      });\n    };\n\n    this.state = {\n      subject: this.props.match.params.id,\n      testId: this.props.match.params.testId,\n      user: 25,\n      questionCount: 36,\n      active: 1,\n      data: []\n    };\n    let current = this;\n    Services.getReferenceById(this.state.testId).then(function (ref) {\n      Services.getData(ref).then(function (data) {\n        let myData = data.map(value => Services.getQuestionClass(value));\n        current.setState({\n          data: myData\n        });\n        console.log(\"here\");\n        console.log(myData);\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.getAuthStatus();\n  } // Get firebase auth status.\n\n\n  // update state\n  updateUserState(resp) {\n    this.setState({\n      user: resp\n    });\n  }\n\n  render() {\n    if (this.state.user == 25) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      });\n    }\n\n    if (this.state.user) {\n      if (this.state.data.length > 0) {\n        const data = this.state.data;\n        let num = this.state.active - 1;\n\n        if (data[num].getType() == \"АБВГД\") {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(ABCDE, {\n            callback: this.updateQuestion,\n            active: this.state.active,\n            number: this.state.data.length,\n            data: data[num],\n            parent: this,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }\n          }));\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 16\n      }\n    });\n  }\n\n}\nexport default Test;","map":{"version":3,"sources":["C:/Users/Acer/Desktop/mavka-web/src/screens/Test/Test.js"],"names":["React","firebase","Redirect","Link","axios","ListItem","QuestionNavPanel","ABCDE","Services","Test","Component","constructor","props","getAuthStatus","auth","onAuthStateChanged","resp","updateUserState","updateQuestion","obj","x","setState","active","state","subject","match","params","id","testId","user","questionCount","data","current","getReferenceById","then","ref","getData","myData","map","value","getQuestionClass","console","log","componentDidMount","render","length","num","getType"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,SAAQC,QAAR,EAAkBC,IAAlB,QAA6B,kBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,gBAAP,MAA6B,2BAA7B;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AAEA,OAAO,MAAMC,IAAN,SAAmBT,KAAK,CAACU,SAAzB,CAAkC;AAErCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA6BnBC,aA7BmB,GA6BH,MAAM;AAClBZ,MAAAA,QAAQ,CAACa,IAAT,GAAgBC,kBAAhB,CAAoCC,IAAD,IAAU;AACzC;AACA,aAAKC,eAAL,CAAqBD,IAArB;AACH,OAHD;AAIH,KAlCkB;;AAAA,SA2CnBE,cA3CmB,GA2CF,CAACC,GAAD,EAAMC,CAAN,KAAY;AACzB,WAAKC,QAAL,CAAc;AACVC,QAAAA,MAAM,EAAEF;AADE,OAAd;AAGH,KA/CkB;;AAEf,SAAKG,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,KAAKZ,KAAL,CAAWa,KAAX,CAAiBC,MAAjB,CAAwBC,EADxB;AAETC,MAAAA,MAAM,EAAE,KAAKhB,KAAL,CAAWa,KAAX,CAAiBC,MAAjB,CAAwBE,MAFvB;AAGTC,MAAAA,IAAI,EAAE,EAHG;AAITC,MAAAA,aAAa,EAAE,EAJN;AAKTR,MAAAA,MAAM,EAAE,CALC;AAMTS,MAAAA,IAAI,EAAE;AANG,KAAb;AAQA,QAAIC,OAAO,GAAG,IAAd;AACAxB,IAAAA,QAAQ,CAACyB,gBAAT,CAA0B,KAAKV,KAAL,CAAWK,MAArC,EAA6CM,IAA7C,CAAkD,UAAUC,GAAV,EAAe;AAC7D3B,MAAAA,QAAQ,CAAC4B,OAAT,CAAiBD,GAAjB,EAAsBD,IAAtB,CAA2B,UAAUH,IAAV,EAAgB;AACvC,YAAIM,MAAM,GAAGN,IAAI,CAACO,GAAL,CAASC,KAAK,IAAI/B,QAAQ,CAACgC,gBAAT,CAA0BD,KAA1B,CAAlB,CAAb;AACAP,QAAAA,OAAO,CAACX,QAAR,CAAiB;AACbU,UAAAA,IAAI,EAAEM;AADO,SAAjB;AAGAI,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ;AACH,OAPD;AAQH,KATD;AAWH;;AAEDM,EAAAA,iBAAiB,GAAG;AAChB,SAAK9B,aAAL;AACH,GA5BoC,CA8BrC;;;AAQA;AACAI,EAAAA,eAAe,CAAED,IAAF,EAAQ;AACnB,SAAKK,QAAL,CAAc;AACVQ,MAAAA,IAAI,EAAEb;AADI,KAAd;AAGH;;AAQD4B,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKrB,KAAL,CAAWM,IAAX,IAAmB,EAAvB,EAA2B;AACvB,0BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACH;;AACD,QAAI,KAAKN,KAAL,CAAWM,IAAf,EAAqB;AACjB,UAAI,KAAKN,KAAL,CAAWQ,IAAX,CAAgBc,MAAhB,GAAyB,CAA7B,EAAgC;AAC5B,cAAMd,IAAI,GAAG,KAAKR,KAAL,CAAWQ,IAAxB;AACA,YAAIe,GAAG,GAAG,KAAKvB,KAAL,CAAWD,MAAX,GAAoB,CAA9B;;AACA,YAAIS,IAAI,CAACe,GAAD,CAAJ,CAAUC,OAAV,MAAuB,OAA3B,EAAoC;AAChC,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACI,oBAAC,KAAD;AACI,YAAA,QAAQ,EAAE,KAAK7B,cADnB;AAEI,YAAA,MAAM,EAAE,KAAKK,KAAL,CAAWD,MAFvB;AAGI,YAAA,MAAM,EAAE,KAAKC,KAAL,CAAWQ,IAAX,CAAgBc,MAH5B;AAII,YAAA,IAAI,EAAEd,IAAI,CAACe,GAAD,CAJd;AAKI,YAAA,MAAM,EAAE,IALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CADJ;AAWH;AACJ;;AACD,0BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACH;;AACD,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AA5EoC;AA+EzC,eAAerC,IAAf","sourcesContent":["import React from 'react';\r\nimport firebase from \"../../global\"\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport ListItem from \"../../UI/ListItem\";\r\nimport QuestionNavPanel from \"../../UI/QuestionNavPanel\";\r\nimport ABCDE from \"../Templates/ABCDE/ABCDE\";\r\nimport Services from \"../../Services\";\r\n\r\nexport class Test extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            subject: this.props.match.params.id,\r\n            testId: this.props.match.params.testId,\r\n            user: 25,\r\n            questionCount: 36,\r\n            active: 1,\r\n            data: []\r\n        }\r\n        let current = this;\r\n        Services.getReferenceById(this.state.testId).then(function (ref) {\r\n            Services.getData(ref).then(function (data) {\r\n                let myData = data.map(value => Services.getQuestionClass(value));\r\n                current.setState({\r\n                    data: myData\r\n                });\r\n                console.log(\"here\");\r\n                console.log(myData);\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAuthStatus();\r\n    }\r\n\r\n    // Get firebase auth status.\r\n    getAuthStatus = () => {\r\n        firebase.auth().onAuthStateChanged((resp) => {\r\n            // Pass response to a call back func to update state\r\n            this.updateUserState(resp);\r\n        });\r\n    }\r\n\r\n    // update state\r\n    updateUserState (resp) {\r\n        this.setState({\r\n            user: resp\r\n        });\r\n    }\r\n\r\n    updateQuestion = (obj, x) => {\r\n        this.setState({\r\n            active: x\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.user == 25) {\r\n            return (<div></div>);\r\n        }\r\n        if (this.state.user) {\r\n            if (this.state.data.length > 0) {\r\n                const data = this.state.data;\r\n                let num = this.state.active - 1;\r\n                if (data[num].getType() == \"АБВГД\") {\r\n                    return (\r\n                        <div>\r\n                            <ABCDE\r\n                                callback={this.updateQuestion}\r\n                                active={this.state.active}\r\n                                number={this.state.data.length}\r\n                                data={data[num]}\r\n                                parent={this}\r\n                            />\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n            return (<div></div>);\r\n        }\r\n        return(<Redirect to=\"/login\"/>);\r\n    }\r\n}\r\n\r\nexport default Test;"]},"metadata":{},"sourceType":"module"}